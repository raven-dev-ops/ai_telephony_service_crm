# Redis-backed developer profile (SQLite persistence, stubbed external services)
#
# Usage (from backend/):
#   uvicorn app.main:app --reload --env-file ..\\env.dev.redis
#
# This profile:
# - Uses SQLite for customers/appointments/conversations.
# - Stores session + Twilio state in Redis for multi-instance safety.
# - Keeps calendar/SMS in stub mode unless you add real credentials.

# Core DB settings
DATABASE_URL=sqlite:///./app.db
USE_DB_CUSTOMERS=true
USE_DB_APPOINTMENTS=true
USE_DB_CONVERSATIONS=true
SESSION_STORE_BACKEND=redis
TWILIO_STATE_BACKEND=redis
REDIS_URL=redis://localhost:6379/0

# Auth / tenancy
REQUIRE_BUSINESS_API_KEY=true
ADMIN_API_KEY=dev-admin-key
OWNER_DASHBOARD_TOKEN=dev-owner-token

# Calendar (stub by default; flip CALENDAR_USE_STUB to false when ready)
GOOGLE_CALENDAR_ID=primary
GOOGLE_CALENDAR_CREDENTIALS_FILE=
CALENDAR_USE_STUB=true

# SMS / Twilio (stub by default; configure real values for Twilio testing)
SMS_PROVIDER=stub
SMS_FROM_NUMBER=
SMS_OWNER_NUMBER=
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
VERIFY_TWILIO_SIGNATURES=false

# Locale / vertical
DEFAULT_LANGUAGE_CODE=en
DEFAULT_VERTICAL=plumbing

# Voice streaming + intent tuning (staging/prod should override host)
TWILIO_STREAMING_ENABLED=true
TWILIO_STREAM_BASE_URL=wss://stream.stub.local/v1/twilio/voice-stream
NLU_INTENT_THRESHOLD=0.4
